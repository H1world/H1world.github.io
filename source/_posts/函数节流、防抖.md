---
title: 函数节流、函数防抖
categories: 随笔
tags: [Js, 面试]
---
面试记录
<!--more-->
### 节流
一段时间只执行一次，重点在锁
```js
function throttle(fn, delay) {
  let timer = null // 锁
  let firstTime = true // 第一次执行
  return function (...args){
    if(firstTime) {
      fn.apply(this, args)
      return firstTime = false
    }
    if(timer) return
    timer = setTimeout(() => {
      clearTimeout(timer)
      timer = null
      fn.apply(this, args)
    }, delay)
  }
};
```
### 防抖
在指定时间内没有再次触发事件，事件处理函数才会执行一次，如果在指定时间内再次被触发，则重新计时
```js
function debounce(fn, delay) {
  let timer;
  return function (){
    let _this = this
    let args = arguments
    if(timer) clearTimeout(timer)
    timer = setTimeout(() => {
      fn.apply(_this, args)
    }, delay)
  }
};
```