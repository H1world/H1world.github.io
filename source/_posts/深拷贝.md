---
title: 深拷贝
categories: 随笔
tags: [Js, 面试]
---
面试记录
<!--more-->
### 对象深拷贝
对象深拷贝 - 递归
```js
function copy(obj) {
  var resoult;
  if(typeof obj === 'object') {
    if(Array.isArray(obj)){
      resoult = [];
      for(let i in obj) {
        resoult.push(copy(obj[i]))
      }
    } else if(obj === null) {
      resoult = null
    } else if(obj.constructor === RegExp) {
      resoult = obj
    } else {
      resoult = {};
      for(let i in obj) {
        resoult[i] = copy(obj[i])
      }
    }
  } else {
    resoult = obj
  }
  return resoult
};
```
### 测试
```js
let obj1 = {
      a: {
          c: /a/,
          d: undefined,
          b: null
      },
      b: function () {
          console.log(this.a)
      },
      c: [
          {
              a: 'c',
              b: /b/,
              c: undefined
          },
          'a',
          3
      ]
  }
let obj2 = copy(obj1);
console.log(obj2);
```